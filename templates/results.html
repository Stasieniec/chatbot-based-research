<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="{{ url_for('static', filename='tailwind.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
        <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.5.0/nouislider.min.css">
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
        <title>Results Page</title>
    </head>
    <body class="text-center">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.5.0/nouislider.min.js"></script>
        <div class="container mx-auto">
            <h1 class="mt-5 text-4xl py-5">Wyniki badania</h1>
            <div class="row flex items-start">

                <!-- Left Column -->
                <div class="col-md-6 form-section w-1/2" id="form-section">
                    <h2 class="mt-5 text-2xl py-5">Wyniki</h2>
                    <!-- Template for Goal Results -->
                    <div class="goal-results">

                        <!-- Goal 1 -->
                        <div class="goal-result mb-4">
                            <h3 class="goal-title text-xl mb-2">Jakość komunikacji miejskiej</h3>
                            <div class="metric-results">
                                <h4 class="metric-result-title text-lg mb-2"><b>Skala Likerta: </b>Jak oceniasz jakość komunikacji miejskiej</h4>
                                <div class="metric-image-container">
                                    <img src="{{ url_for('static', filename='plots/likert_goal2.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                                </div>
                            <h4 class="metric-result-title text-lg mb-2"><b>Wartość Liczbowa: </b>Ile razy w tygodniu korzystasz z transportu publicznego?</h4>
                            <div class="metric-image-container">
                                <img src="{{ url_for('static', filename='plots/num_komunikacja.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                            </div>
                            <h4 class="metric-result-title text-lg mb-2"><b>Pytanie Otwarte: </b>Jaką zmianę zasugerowałbyś/sugerowałabyś dla obecnego stanu transportu publicznego?</h4>
                            <button class="open-quotes-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-goal="1">Zobacz odpowiedzi</button>                            
                            </div>
                            <h4 class="metric-result-title text-lg mb-2 opinie"><b>Popularne opinie wśród mieszkańców</b></h4>
                            <div class="word-cloud mb-4">
                                <button class="word-cloud-btn" data-word="Punktualne i czyste autobusy">Punktualne i czyste autobusy</button>
                                <button class="word-cloud-btn" data-word="Brakuje informacji o zmianach w rozkładzie jazdy">Brakuje informacji o zmianach w rozkładzie jazdy</button>
                                <button class="word-cloud-btn" data-word="Nowe autobusy są bardzo wygodne">Nowe autobusy są bardzo wygodne</button>
                                <button class="word-cloud-btn" data-word="Czasami autobusy są przepełnione, szczególnie w godzinach szczytu">Czasami autobusy są przepełnione, szczególnie w godzinach szczytu</button>
                                <button class="word-cloud-btn" data-word="Potrzebne są częstsze kursy wieczorami">Potrzebne są częstsze kursy wieczorami</button>
                            </div>
                        </div>

                        <!-- Goal 2 -->
                        <div class="goal-result mb-4">
                            <h3 class="goal-title text-xl mb-2">Infrastruktura drogowa i zarządzanie ruchem</h3>
                            <div class="metric-results">
                                <h4 class="metric-result-title text-lg mb-2"><b>Skala Likerta: </b>Jak oceniasz obecny stan dróg w Twojej okolicy?</h4>
                                <div class="metric-image-container">
                                    <img src="{{ url_for('static', filename='plots/likert_goal2.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                                </div>
                                <h4 class="metric-result-title text-lg mb-2"><b>Wartość Liczbowa: </b>Ile godzin tygodniowo średnio tracisz z powodu korków?</h4>
                                <div class="metric-image-container">
                                    <img src="{{ url_for('static', filename='plots/num_goal2.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                                </div>
                                <h4 class="metric-result-title text-lg mb-2"><b>Pytanie Otwarte: </b>Jaką zmianę zasugerowałbyś/sugerowałabyś aby poprawić bezpieczeństwo na drogach?</h4>
                                <button class="open-quotes-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-goal="2">Zobacz odpowiedzi</button>
                            </div>
                            <h4 class="metric-result-title text-lg mb-2 opinie"><b>Popularne opinie wśród mieszkańców</b></h4>
                            <div class="word-cloud mb-4">
                                <button class="word-cloud-btn" data-word="Stan dróg jest fatalny, dużo dziur i nierówności">Stan dróg jest fatalny, dużo dziur i nierówności</button>
                                <button class="word-cloud-btn" data-word="Remonty dróg trwają za długo i powodują ogromne korki">Remonty dróg trwają za długo i powodują ogromne korki</button>
                                <button class="word-cloud-btn" data-word="Potrzebne są lepsze oznaczenia na drogach, zwłaszcza na skrzyżowaniach">Potrzebne są lepsze oznaczenia na drogach, zwłaszcza na skrzyżowaniach</button>
                                <button class="word-cloud-btn" data-word="W niektórych miejscach brakuje odpowiedniego oświetlenia">W niektórych miejscach brakuje odpowiedniego oświetlenia</button>
                                <button class="word-cloud-btn" data-word="Korki w godzinach szczytu są nie do zniesienia">Korki w godzinach szczytu są nie do zniesienia</button>
                            </div>
                        </div>
                        <!-- Goal 3 -->
                        <div class="goal-result mb-4">
                            <h3 class="goal-title text-xl mb-2">Miejsca parkingowe</h3>
                            <div class="metric-results">
                                <h4 class="metric-result-title text-lg mb-2"><b>Skala Likerta: </b>Jak oceniasz liczbę miejsc parkingowych w centrum miasta</h4>
                                <div class="metric-image-container">
                                    <img src="{{ url_for('static', filename='plots/likert_goal3.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                                </div>
                                <h4 class="metric-result-title text-lg mb-2"><b>Wartość Liczbowa: </b>Jak daleko (w metrach) zazwyczaj parkujesz od celu podróży?</h4>
                                <div class="metric-image-container">
                                    <img src="{{ url_for('static', filename='plots/num_goal3.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                                </div>
                                <h4 class="metric-result-title text-lg mb-2"><b>Pytanie Otwarte: </b>Jakie zmiany mogłyby poprawić sytuację parkingową w Twojej okolicy?</h4>
                                <button class="open-quotes-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-goal="3">Zobacz odpowiedzi</button>
                            </div>
                            <h4 class="metric-result-title text-lg mb-2 opinie"><b>Popularne opinie wśród mieszkańców</b></h4>
                            <div class="word-cloud mb-4">
                                <button class="word-cloud-btn" data-word="Znalezienie miejsca parkingowego w centrum to koszmar">Znalezienie miejsca parkingowego w centrum to koszmar</button>
                                <button class="word-cloud-btn" data-word="Parkingi są za drogie i za mało dostępne">Parkingi są za drogie i za mało dostępne</button>
                                <button class="word-cloud-btn" data-word="Często muszę parkować bardzo daleko od celu podróży">Często muszę parkować bardzo daleko od celu podróży</button>
                                <button class="word-cloud-btn" data-word="Brakuje miejsc parkingowych dla mieszkańców w godzinach nocnych">Brakuje miejsc parkingowych dla mieszkańców w godzinach nocnych</button>
                                <button class="word-cloud-btn" data-word="Potreba więcej miejsc parkingowych dla rowerów">Potreba więcej miejsc parkingowych dla rowerów</button>
                            </div>
                        </div>

                        <!-- Goal 4 -->
                        <div class="goal-result mb-4">
                            <h3 class="goal-title text-xl mb-2">Sezonowe wyzwania mobilności</h3>
                            <div class="metric-results">
                                <h4 class="metric-result-title text-lg mb-2"><b>Skala Likerta: </b>Jak oceniasz stan dróg w Twojej okolicy podczas zimy?</h4>
                                <div class="metric-image-container">
                                    <img src="{{ url_for('static', filename='plots/likert_goal4.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                                </div>
                                <h4 class="metric-result-title text-lg mb-2"><b>Wartość Liczbowa: </b>Ile razy tej zimy doświadczyłeś/łaś problemów z poruszaniem się po mieście przez śnieg lub lód?</h4>
                                <div class="metric-image-container">
                                    <img src="{{ url_for('static', filename='plots/num_goal4.png') }}" alt="Metric Result 1" class="metric-image mb-4">
                                </div>
                                <h4 class="metric-result-title text-lg mb-2"><b>Pytanie Otwarte: </b>Jakie działania mogłyby poprawić warunki drogowe w zimie?</h4>
                                <button class="open-quotes-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" data-goal="4">Zobacz odpowiedzi</button>
                            </div>
                            <h4 class="metric-result-title text-lg mb-2 opinie"><b>Popularne opinie wśród mieszkańców</b></h4>
                            <div class="word-cloud mb-4">
                                <button class="word-cloud-btn" data-word="Drogi są dobrze odśnieżone, ale czasem za późno">Drogi są dobrze odśnieżone, ale czasem za późno</button>
                                <button class="word-cloud-btn" data-word="Chodniki są śliskie, brakuje odpowiedniej posypki na czas">Chodniki są śliskie, brakuje odpowiedniej posypki na czas</button>
                                <button class="word-cloud-btn" data-word="Rzadko mam problemy z poruszaniem się zimą">Rzadko mam problemy z poruszaniem się zimą</button>
                                <button class="word-cloud-btn" data-word="Potrzebna jest lepsza koordynacja służb odśnieżających">Potrzebna jest lepsza koordynacja służb odśnieżających</button>
                                <button class="word-cloud-btn" data-word="Przejścia dla pieszych są często zaniedbane zimą, co sprawia, że są niebezpieczne">Przejścia dla pieszych są często zaniedbane zimą, co sprawia, że są niebezpieczne</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column -->
                <div class="col-md-6 w-1/2 right-col right-results">
                    <h2 class="mt-5 text-2xl py-5 respondenci">Respondenci</h2>
                    <div class="form-group mb-4">
                        <label>Liczba respondentów</label>
                        <h3 class="demo-title text-xl mb-2">300</h3>
                    </div>
                    <div class="form-group mb-4">
                        <label>Płeć</label>
                        <div class="metric-image-container">
                            <img src="{{ url_for('static', filename='plots/gender.png') }}" alt="Metric Result 1" class="metric-image mb-4 w-1/2 h-auto">
                        </div>
                        <h3 class="demo-title text-xl mb-2">Mężczyźni: 165        Kobiety: 135</h3>
                    </div>    
                    <div class="form-group mb-4">
                        <label>Poziom edukacji</label>
                        <div class="metric-image-container">
                            <img src="{{ url_for('static', filename='plots/education.png') }}" alt="Metric Result 1" class="metric-image mb-4 w-1/2 h-auto">
                        </div>
                        <h3 class="demo-title text-xl mb-2">Podstawowa: 38       Middle: 97        Higher: 165</h3>
                    </div>  
                    <div class="form-group mb-4">
                        <label>Rodzice</label>
                        <div class="metric-image-container">
                            <img src="{{ url_for('static', filename='plots/parent.png') }}" alt="Metric Result 1" class="metric-image mb-4 w-1/2 h-auto">
                        </div>
                        <h3 class="demo-title text-xl mb-2">Posiada dzieci: 105       Nie posiada dzieci: 195</h3>
                    </div>                
                </div>
            </div>
        </div>

        <!--MODAL-->
        <div id="wordCloudModal" class="word-cloud-modal">
            <div class="word-cloud-modal-content">
                <span class="word-cloud-close">&times;</span>
                <h2>Inspekcja tematu</h2>
                <p>Opis wygenerowany przez AI</p>
                <div class="scrollable-content">
                    <!-- Content will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <div id="fullResponseModal" class="full-response-modal">
            <div class="full-response-modal-content">
                <span class="full-response-close">&times;</span>
                <h2>Cała odpowiedź</h2>
                <div class="full-response-content">
                    <!-- Demographics and full response content will be inserted here -->
                </div>
                <button class="go-back-btn">Wróć</button>
            </div>
        </div>

        <!-- Plot Modal -->
        <div id="plotModal" class="plot-modal">
            <span class="plot-modal-close">&times;</span>
            <img class="plot-modal-content" id="plotModalImg">
        </div>


        <div id="quotesModal" class="quotes-modal">
            <div class="quotes-modal-content">
                <span class="quotes-close">&times;</span>
                <h2>Odpowiedzi na pytanie otwarte</h2>
                <div class="scrollable-content">
                    <!-- Content will be dynamically inserted here -->
                </div>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <script src="{{ url_for('static', filename='results.js') }}"></script>
    </body>
</html>